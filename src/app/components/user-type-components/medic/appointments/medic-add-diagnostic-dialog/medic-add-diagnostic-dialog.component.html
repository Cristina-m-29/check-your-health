<h1 class="purple-title" mat-dialog-title *ngIf="editable">Adaugă diagnostic</h1>
<h1 class="purple-title" mat-dialog-title *ngIf="!editable">Diagnostic</h1>

<div mat-dialog-content class="padding_bottom">
    <form class="add-diagnostic-form width-full" [formGroup]="diagnosticForm">
        <div class="flex width-full margin_top-s">
            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Simptome</mat-label>

                    <textarea
                        required
                        matInput 
                        class="min-height-m"
                        formControlName="symptoms"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Recomandări</mat-label>

                    <textarea 
                        matInput 
                        class="min-height-m" 
                        required 
                        formControlName="recommendations"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Examen clinic</mat-label>

                    <textarea 
                        matInput 
                        class="min-height-m" 
                        required 
                        formControlName="clinicalExam"
                    ></textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="flex width-full margin_top-s">
            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Numar registru</mat-label>

                    <textarea
                        matInput 
                        class="min-height-m" 
                        required 
                        formControlName="registryNumber"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Servicii efectuate</mat-label>

                    <textarea 
                        matInput 
                        class="min-height-m" 
                        required 
                        formControlName="servicesUsed"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Diagnostic necodificat</mat-label>

                    <textarea 
                        matInput 
                        class="min-height-m" 
                        required 
                        formControlName="diagnosticPlain"
                    ></textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="flex width-full margin_top-s">
            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Diagnostic codificat CIM</mat-label>

                    <textarea 
                        matInput class="min-height-m" 
                        required 
                        formControlName="diagnosticEncoded"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium margin_right">
                <mat-form-field appearance="fill" class="width-full">
                    <mat-label>Rezultate explorării paraclinicee</mat-label>

                    <textarea 
                        matInput class="min-height-m" 
                        required 
                        formControlName="paraclinicalExaminationResults"
                    ></textarea>
                </mat-form-field>
            </div>

            <div class="width-medium flex_column flex_column-justify-center">
                <mat-checkbox formControlName="final" color="primary">
                    <p>Diagnostic final</p>
                </mat-checkbox>
            </div>
        </div>
    </form>
</div>

<div class="flex width-full" *ngIf="editable">
    <button
        mat-button
        color="primary"
        class="width-medium height-small button secondary-button"
        (click)="onNoClick()"
    >
        Anulează
    </button>

    <span class="margin_right"></span>

    <button 
        mat-raised-button 
        color="primary" 
        [mat-dialog-close]="diagnostic" 
        [disabled]="!diagnosticForm.valid"
        class="width-medium height-small button"
    >
        Adaugă
    </button>
</div>